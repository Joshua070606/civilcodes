<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CivilCode ‚Äì Indian Civil Engineering Suite</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
  <style>
    :root{--p:#c0392b;--a:#2980b9;--g:#27ae60;--d:#2c3e50;--l:#f5f7fa;}
    *{margin:0;padding:0;box-sizing:border-box;}
    body{font-family:'Inter',sans-serif;background:var(--l);color:#333;line-height:1.6;overflow-x:hidden;}
    
    /* Login Screen */
    #login-screen{position:fixed;inset:0;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;z-index:999;}
    #login-box{background:rgba(255,255,255,0.2);backdrop-filter:blur(15px);padding:50px 40px;border-radius:20px;text-align:center;max-width:420px;width:90%;box-shadow:0 20px 50px rgba(0,0,0,0.3);}
    #login-box h1{color:white;font-size:40px;margin-bottom:10px;}
    input{width:100%;padding:16px;margin:15px 0;border:none;border-radius:12px;font-size:17px;}
    button{padding:16px 32px;border:none;border-radius:12px;font-weight:600;cursor:pointer;font-size:18px;transition:0.3s;}
    .btn-red{background:#c0392b;color:white;}
    .btn-blue{background:#2980b9;color:white;}

    /* Header */
    header{background:var(--d);color:white;padding:15px 20px;text-align:center;position:fixed;top:0;left:0;right:0;z-index:99;box-shadow:0 4px 15px rgba(0,0,0,0.2);}
    #menu-toggle{display:none;font-size:28px;cursor:pointer;position:absolute;left:18px;top:50%;transform:translateY(-50%);background:rgba(255,255,255,0.15);width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:0.3s;}
    #menu-toggle:hover{background:rgba(255,255,255,0.3);}
    header h1{font-size:24px;margin:0;}
    header p{font-size:14px;margin-top:4px;opacity:0.9;}

    /* Compact Sidebar */
    nav#sidebar{background:var(--d);width:280px;position:fixed;height:100%;overflow-y:auto;padding-top:80px;box-shadow:8px 0 25px rgba(0,0,0,0.2);z-index:98;transition:left 0.35s ease;left:0;}
    nav#sidebar.closed{left:-280px;}
    .menu > li > span{display:flex;align-items:center;padding:16px 24px;color:#ddd;font-weight:500;font-size:15px;cursor:pointer;transition:0.25s;gap:14px;}
    .menu > li > span i{width:24px;text-align:center;}
    .menu > li > span:hover{background:rgba(255,255,255,0.18);color:white;}
    .menu > li > span.active{background:var(--p);color:white;}
    .submenu{padding-left:58px;display:none;background:rgba(0,0,0,0.15);}
    .submenu.active{display:block;}
    .submenu span{display:block;padding:11px 0;color:#bbb;font-size:14px;cursor:pointer;}
    .submenu span:hover{color:white;}

    main{margin-left:280px;margin-top:80px;padding:30px;min-height:calc(100vh - 80px);transition:margin-left 0.35s;}
    
    /* Cards & Rest of Styles (unchanged ‚Äì only compacted sidebar above) */
    .card{background:white;border-radius:16px;padding:32px;margin-bottom:28px;box-shadow:0 10px 30px rgba(0,0,0,0.08);}
    .card h2{color:var(--p);font-size:26px;margin-bottom:18px;border-bottom:3px solid var(--p);padding-bottom:10px;}
    .mode-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:22px;margin:30px 0;}
    .mode-card{background:white;border-radius:16px;padding:28px;text-align:center;cursor:pointer;transition:all 0.4s;box-shadow:0 8px 25px rgba(0,0,0,0.1);border:3px solid transparent;}
    .mode-card:hover{transform:translateY(-10px);border-color:var(--p);}
    .mode-card i{font-size:48px;color:var(--p);margin-bottom:14px;}
    .mode-card h3{font-size:19px;color:var(--d);}
    label{display:block;margin:18px 0 8px;font-weight:600;color:#444;}
    input,select{width:100%;padding:14px;border:2px solid #ddd;border-radius:12px;font-size:16px;transition:0.3s;}
    input:focus,select:focus{border-color:var(--p);outline:none;box-shadow:0 0 0 4px rgba(192,57,43,0.15);}
    button.btn-calc{background:var(--p);color:white;padding:16px 30px;margin-top:20px;width:100%;font-size:18px;cursor:pointer;border:none;border-radius:12px;}
    .result{margin-top:28px;padding:24px;background:#d4edda;border-left:6px solid #27ae60;border-radius:8px;font-size:18px;}
    .fail{background:#f8d7da;border-left-color:#c0392b;}
/* =============== IS CODES GRID ‚Äì MISSING STYLES =============== */
.code-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
  gap: 22px;
  margin-top: 25px;
  padding: 10px;
}

.code-card {
  background: white;
  border-radius: 14px;
  padding: 22px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.09);
  transition: all 0.3s ease;
  border: 2px solid transparent;
}

.code-card:hover {
  transform: translateY(-8px);
  border-color: var(--p);
  box-shadow: 0 15px 40px rgba(0,0,0,0.15);
}

.code-card h3 {
  color: var(--p);
  font-size: 17px;
  margin-bottom: 8px;
}

.code-card p {
  font-size: 14.5px;
  color: #444;
  line-height: 1.5;
  margin: 12px 0;
}

.code-card a {
  display: inline-block;
  background: var(--p);
  color: white;
  padding: 10px 20px;
  border-radius: 10px;
  text-decoration: none;
  font-weight: 600;
  font-size: 15px;
  margin-top: 10px;
  transition: 0.3s;
}

.code-card a:hover {
  background: #a93226;
  transform: scale(1.05);
}
    /* Mobile First ‚Äì Hamburger Visible */
    @media (max-width:992px){
      #menu-toggle{display:flex !important;}
      nav#sidebar{left:-280px;}
      nav#sidebar.active{left:0;}
      main{margin-left:0;}
      header h1{font-size:22px;}
    }
    .code-category {margin-bottom:30px;}
.category-title {
  background:var(--d);color:white;padding:16px 24px;border-radius:12px;
  cursor:pointer;font-size:18px;font-weight:600;transition:0.3s;
}
.category-title:hover {background:#1e2a38;}
.code-category .category-grid {display:none;padding:20px 0;}
.code-category.open .category-grid {display:grid;}
  </style>
</head>
<body>

  <!-- Login Screen -->
  <div id="login-screen">
    <div id="login-box">
      <h1>CivilCode</h1>
      <p style="color:white;font-size:18px;margin-bottom:30px;">Indian Civil Engineering Suite</p>
      <input type="text" id="user" placeholder="Enter your name">
      <button class="btn-red" onclick="login()">Login</button>
      <button class="btn-blue" onclick="login(true)" style="margin-top:10px;">Continue as Guest</button>
    </div>
  </div>

  <!-- Compact Sidebar -->
  <nav id="sidebar" class="closed">
    <ul class="menu">
      <li><span onclick="showHome()" class="active"><i class="fas fa-home"></i> Home</span></li>
      <li><span onclick="showOneWay()"><i class="fas fa-ruler-horizontal"></i> One-Way Slab</span></li>
      <li><span onclick="showTwoWay()"><i class="fas fa-th"></i> Two-Way Slab</span></li>
      <li><span onclick="showBeam()"><i class="fas fa-vector-square"></i> Beam Design</span></li>
      <li><span onclick="showColumn()"><i class="fas fa-columns"></i> Column Design</span></li>
      <li><span onclick="showWaterTank()"><i class="fas fa-cube"></i> Water Tank</span></li>
      <li><span onclick="showStaircase()"><i class="fas fa-stairs"></i> Staircase</span></li>
      <li><span onclick="showCrack()"><i class="fas fa-hard-hat"></i> Crack Width</span></li>
      <li><span onclick="showDevLength()"><i class="fas fa-link"></i> Dev. Length</span></li>
    <li><span onclick="showCodalProvisions()"><i class="fas fa-globe"></i> Codal Provisions</span></li>
      </li>
      <li><span onclick="showMixDesign()"><i class="fas fa-flask"></i> Concrete Mix Design</span></li>
      <li><span onclick="showFun()"><i class="fas fa-lightbulb"></i> Fun Facts</span></li>
      <li><span onclick="showDisclaimer()"><i class="fas fa-shield-alt"></i> Disclaimer</span></li>
    </ul>
  </nav>

  <!-- Header with Working Hamburger -->
  <header>
    <div id="menu-toggle">‚ò∞</div>
    <h1>CivilCode</h1>
    <p>Welcome, <span id="username">User</span></p>
  </header>

  <!-- Main Content -->
  <main id="content">
    <div class="card">
      <h2>Welcome to CivilCode</h2>
      <p>Select any module from the sidebar to begin designing as per Indian Standards.</p>
    </div>
  </main>
       <!-- ==================== TEMPLATES (hidden) ==================== -->
  <template id="oneway-template">
    <div class="card">
      <h2>One-Way Slab Design ‚Äì IS 456:2000</h2>
      <div class="mode-grid">
        <div class="mode-card" onclick="oneWayDesign()">
          <i class="fas fa-ruler-horizontal"></i><h3>Design One-Way Slab</h3><p>Simply Supported ‚Ä¢ Continuous</p>
        </div>
      </div>
      <div id="oneway-section"></div>
      <div id="oneway-result"></div>
    </div>
  </template>

  <template id="twoway-template">
    <div class="card">
      <h2>Two-Way Slab Design ‚Äì IS 456:2000</h2>
      <div class="mode-grid">
        <div class="mode-card" onclick="twoWayDesign()">
          <i class="fas fa-th"></i><h3>Design Two-Way Slab</h3><p>All Corners Restrained</p>
        </div>
      </div>
      <div id="twoway-section"></div>
      <div id="twoway-result"></div>
    </div>
  </template>

  <template id="beam-template">
    <div class="card">
      <h2>Beam Design ‚Äì IS 456:2000</h2>
      <div class="mode-grid">
        <div class="mode-card" onclick="beamDesign()">
          <i class="fas fa-vector-square"></i><h3>Design RCC Beam</h3><p>Singly & Doubly Reinforced</p>
        </div>
      </div>
      <div id="beam-section"></div>
      <div id="beam-result"></div>
    </div>
  </template>

  <template id="column-template">
    <div class="card">
      <h2>Column Design ‚Äì IS 456:2000</h2>
      <div class="mode-grid">
        <div class="mode-card" onclick="columnDesign()">
          <i class="fas fa-columns"></i><h3>Design RCC Column</h3><p>Axial + Uniaxial Bending</p>
        </div>
      </div>
      <div id="column-section"></div>
      <div id="column-result"></div>
    </div>
  </template>

  <template id="watertank-template">
    <div class="card">
      <h2>Rectangular Water Tank ‚Äì IS 3370:2009</h2>
      <div class="mode-grid">
        <div class="mode-card" onclick="waterTankDesign()">
          <i class="fas fa-cube"></i><h3>Design UG/OH Tank</h3><p>Fixed Base ‚Ä¢ Free Top</p>
        </div>
      </div>
      <div id="watertank-section"></div>
      <div id="watertank-result"></div>
    </div>
  </template>

  <template id="staircase-template">
    <div class="card">
      <h2>Dog-Legged Staircase ‚Äì IS 456:2000</h2>
      <div class="mode-grid">
        <div class="mode-card" onclick="staircaseDesign()">
          <i class="fas fa-stairs"></i><h3>Design Staircase</h3><p>With Landing</p>
        </div>
      </div>
      <div id="staircase-section"></div>
      <div id="staircase-result"></div>
    </div>
  </template>

  <template id="crack-template">
    <div class="card">
      <h2>Crack Width Calculator ‚Äì IS 456:2000</h2>
      <div class="mode-grid">
        <div class="mode-card" onclick="crackPro()">
          <i class="fas fa-hard-hat"></i><h3>Engineer Mode</h3><p>Annex F + Table 16</p>
        </div>
      </div>
      <div id="crack-section"></div>
      <div id="crack-result"></div>
    </div>
  </template>

  <template id="devlength-template">
    <div class="card">
      <h2>Development Length Calculator ‚Äì IS 456:2000</h2>
      <div class="mode-grid">
        <div class="mode-card" onclick="devLengthPro()">
          <i class="fas fa-link"></i><h3>Calculate Ld</h3><p>Tension ‚Ä¢ Hooks ‚Ä¢ Reductions</p>
        </div>
      </div>
      <div id="dev-section"></div>
      <div id="dev-result"></div>
    </div>
  </template>

  <template id="mixdesign-template">
  <div class="card">
    <h2>Concrete Mix Design ‚Äì IS 10262:2019</h2>
    <div class="mode-grid">
      <div class="mode-card" onclick="mixDesignPro()">
        <i class="fas fa-flask"></i><h3>Design Concrete Mix</h3><p>M20 to M60 ‚Ä¢ With/Without Admixture</p>
      </div>
    </div>
    <div id="mix-section"></div>
    <div id="mix-result"></div>
  </div>
</template>

 <template id="disclaimer-template">
  <div class="card">
    <h2>Disclaimer</h2>
    <p style="font-size:18px;line-height:1.9;color:#444;">
      This tool is provided for educational and preliminary reference purposes only.<br><br>
      All calculations are based on simplified methods from relevant Indian Standards.<br>
      Results are not guaranteed and should never be used for final design without thorough verification.<br><br>
      <strong>Always consult and get approval from a qualified structural engineer for any real project.</strong>
    </p>
    <p style="margin-top:40px;font-size:15px;color:#777;text-align:center;">
      Created by <strong>Kiran Joshua</strong><br>
      Civil Engineer ‚Ä¢ 2025
    </p>
  </div>
</template>

  <!-- ==================== FULL IS CODES ARRAY (100+ entries) ==================== -->
  <script>
  const codeCategories = {
    "Seismic / Earthquake Resistant Design": [
      {t:"IS 13827:1993", d:"Improving Earthquake Resistance of Earthen Buildings - Guidelines", desc:"Seismic strengthening of mud & adobe houses", l:"https://archive.org/details/gov.in.is.13827.1993"},
      {t:"IS 1893 (Part 1):2016", d:"Criteria for Earthquake Resistant Design of Structures - General Provisions", desc:"Seismic zone map, response spectrum & base shear", l:"https://law.resource.org/pub/in/bis/S03/is.1893.1.2016.pdf"},
      {t:"IS 13920:2016", d:"Ductile Design and Detailing of Reinforced Concrete Structures", desc:"Seismic detailing for beams, columns & joints", l:"https://law.resource.org/pub/in/bis/S03/is.13920.2016.pdf"},
      {t:"IS 4326:2013", d:"Earthquake Resistant Design and Construction of Buildings", desc:"General provisions for masonry & RCC buildings", l:"https://law.resource.org/pub/in/bis/S03/is.4326.2013.pdf"},
      {t:"IS 16700:2017", d:"Criteria for Structural Safety of Tall Concrete Buildings", desc:"High-rise buildings >50m height", l:"https://law.resource.org/pub/in/bis/S03/is.16700.2017.pdf"},
      {t:"IS 13935:2009", d:"Guidelines for Repair & Seismic Strengthening of Buildings", desc:"Retrofitting of existing structures", l:"https://law.resource.org/pub/in/bis/S03/is.13935.2009.pdf"},
      {t:"IS 4967:1968", d:"Recommendations for Seismic Instrumentation in Structures", desc:"Strong motion accelerographs", l:"https://law.resource.org/pub/in/bis/S03/is.4967.1968.pdf"}
    ],
    "Loads on Structures": [
      {t:"IS 875 (Part 1):1987", d:"Design Loads - Dead Loads", desc:"Unit weights of building materials", l:"https://archive.org/details/gov.in.is.875.1.1987"},
      {t:"IS 875 (Part 2):1987", d:"Design Loads - Imposed Loads", desc:"Live loads for homes, offices, hospitals", l:"https://archive.org/details/gov.in.is.875.2.1987"},
      {t:"IS 875 (Part 3):2015", d:"Design Loads - Wind Loads", desc:"Basic wind speed map of India", l:"https://law.resource.org/pub/in/bis/S03/is.875.3.2015.pdf"},
      {t:"IS 875 (Part 4):1987", d:"Design Loads - Snow Loads", desc:"For Himalayan & hill stations", l:"https://archive.org/details/gov.in.is.875.4.1987"},
      {t:"IS 875 (Part 5):1987", d:"Design Loads - Special Loads & Combinations", desc:"Crane, dust, temperature effects", l:"https://archive.org/details/gov.in.is.875.5.1987"}
    ],
    "Reinforced Concrete (RCC) Design": [
      {t:"IS 456:2000", d:"Plain and Reinforced Concrete - Code of Practice", desc:"The Bible of RCC design in India", l:"https://law.resource.org/pub/in/bis/S03/is.456.2000.pdf"}
    ],
    "Steel Structures": [
      {t:"IS 800:2007", d:"General Construction in Steel - Code of Practice", desc:"Limit State Design for steel structures", l:"https://law.resource.org/pub/in/bis/S03/is.800.2007.pdf"}
    ],
    "Masonry & Brickwork": [
      {t:"IS 1905:1987", d:"Structural Use of Unreinforced Masonry", desc:"Load-bearing brick & stone masonry design", l:"https://law.resource.org/pub/in/bis/S03/is.1905.1987.pdf"},
      {t:"IS 2212:1991", d:"Code of Practice for Brickwork", desc:"Construction & quality control of brick masonry", l:"https://law.resource.org/pub/in/bis/S03/is.2212.1991.pdf"}
    ],
    "Prestressed Concrete": [
      {t:"IS 1343:2012", d:"Code of Practice for Prestressed Concrete", desc:"Pre-tensioned & post-tensioned members", l:"https://law.resource.org/pub/in/bis/S03/is.1343.2012.pdf"}
    ],
    "Liquid Retaining Structures (Water Tanks, etc.)": [
      {t:"IS 3370 (Part 1):2021", d:"Concrete Structures for Liquid Retaining - General Requirements", desc:"Water tanks & reservoirs", l:"https://law.resource.org/pub/in/bis/S03/is.3370.1.2021.pdf"},
      {t:"IS 3370 (Part 2):2021", d:"Concrete Structures for Liquid Retaining - Reinforced Concrete", desc:"Design of tank walls & base", l:"https://law.resource.org/pub/in/bis/S03/is.3370.2.2021.pdf"},
      {t:"IS 14243:1995", d:"Guidelines for Water Proofing of Underground Reservoirs", desc:"UG sump & water tanks", l:"https://archive.org/details/gov.in.is.14243.1995"}
    ],
    "Concrete Mix Design & Materials": [
      {t:"IS 10262:2019", d:"Concrete Mix Proportioning - Guidelines", desc:"M20 to M80 mix design step-by-step", l:"https://law.resource.org/pub/in/bis/S03/is.10262.2019.pdf"}
    ],
    "Steel Reinforcement & Structural Steel": [
      {t:"IS 1786:2008", d:"High Yield Strength Deformed Steel Bars (TMT)", desc:"Fe415, Fe500, Fe550, Fe600 specifications", l:"https://law.resource.org/pub/in/bis/S03/is.1786.2008.pdf"},
      {t:"IS 2062:2011", d:"Hot Rolled Medium and High Tensile Structural Steel", desc:"Steel for beams, channels & angles", l:"https://law.resource.org/pub/in/bis/S03/is.2062.2011.pdf"}
    ],
    "Soil Testing & Geotechnical": [
      {t:"IS 2720 (Part 1):1983", d:"Methods of Test for Soils - Preparation of Samples", desc:"Soil laboratory testing basics", l:"https://law.resource.org/pub/in/bis/S03/is.2720.1.1983.pdf"},
      {t:"IS 2720 (Part 4):1985", d:"Methods of Test for Soils - Grain Size Analysis", desc:"Sieve analysis & hydrometer", l:"https://law.resource.org/pub/in/bis/S03/is.2720.4.1985.pdf"},
      {t:"IS 2720 (Part 5):1985", d:"Methods of Test for Soils - Liquid & Plastic Limits", desc:"Atterberg limits determination", l:"https://law.resource.org/pub/in/bis/S03/is.2720.5.1985.pdf"},
      {t:"IS 2720 (Part 8):1983", d:"Methods of Test for Soils - Compaction Characteristics", desc:"Standard & Modified Proctor test", l:"https://law.resource.org/pub/in/bis/S03/is.2720.8.1983.pdf"},
      {t:"IS 2720 (Part 16):1987", d:"Methods of Test for Soils - CBR Test", desc:"California Bearing Ratio for pavements", l:"https://law.resource.org/pub/in/bis/S03/is.2720.16.1987.pdf"},
      {t:"IS 2720 (Part 28):1974", d:"Methods of Test for Soils - Shear Strength", desc:"Triaxial & direct shear test", l:"https://law.resource.org/pub/in/bis/S03/is.2720.28.1974.pdf"},
      {t:"IS 1498:1970", d:"Classification and Identification of Soils", desc:"USC & IS soil classification", l:"https://law.resource.org/pub/in/bis/S03/is.1498.1970.pdf"},
      {t:"IS 1892:2021", d:"Code of Practice for Subsurface Investigation", desc:"Borelog, SPT, plate load test", l:"https://law.resource.org/pub/in/bis/S03/is.1892.2021.pdf"}
    ],
    "Foundations & Piles": [
      {t:"IS 6403:1981", d:"Code of Practice for Determination of Bearing Capacity of Shallow Foundations", desc:"Safe bearing capacity calculation", l:"https://law.resource.org/pub/in/bis/S03/is.6403.1981.pdf"},
      {t:"IS 2911 (Part 1-1):2010", d:"Design and Construction of Pile Foundations - Driven Cast In-situ", desc:"Bored & driven piles", l:"https://law.resource.org/pub/in/bis/S03/is.2911.1.1.2010.pdf"},
      {t:"IS 2911 (Part 1-2):2010", d:"Design and Construction of Pile Foundations - Driven Precast", desc:"Precast RCC & steel piles", l:"https://law.resource.org/pub/in/bis/S03/is.2911.1.2.2010.pdf"},
      {t:"IS 2911 (Part 4):2013", d:"Design and Construction of Pile Foundations - Load Test", desc:"Static & dynamic pile testing", l:"https://law.resource.org/pub/in/bis/S03/is.2911.4.2013.pdf"},
      {t:"IS 14593:1998", d:"Bored Cast In-Situ Piles in Sandy Soils - Guidelines", desc:"Under-reamed & friction piles", l:"https://archive.org/details/gov.in.is.14593.1998"},
      {t:"IS 2974 (Part 1):1982", d:"Machine Foundations - Block Type", desc:"Foundations for reciprocating machines", l:"https://law.resource.org/pub/in/bis/S03/is.2974.1.1982.pdf"},
      {t:"IS 5249:1992", d:"Method of Test for Determination of Dynamic Properties of Soil", desc:"Cyclic triaxial & resonant column", l:"https://law.resource.org/pub/in/bis/S03/is.5249.1992.pdf"},
      {t:"IS 13301:1992", d:"Guidelines for Vibration Isolation for Machine Foundations", desc:"Anti-vibration mounts", l:"https://law.resource.org/pub/in/bis/S03/is.13301.1992.pdf"},
      {t:"IS 12070:1987", d:"Code of Practice for Design & Construction of Shallow Foundations on Rock", desc:"Rock socketed footings", l:"https://archive.org/details/gov.in.is.12070.1987"},
      {t:"IS 10042:1981", d:"Code of Practice for Site Investigations for Foundation on Rock", desc:"Core drilling & RQD", l:"https://archive.org/details/gov.in.is.10042.1981"}
    ],
    "Building Materials (Bricks, Blocks, Aggregates)": [
      {t:"IS 1077:1992", d:"Common Burnt Clay Building Bricks - Specification", desc:"Class designation & compressive strength", l:"https://law.resource.org/pub/in/bis/S03/is.1077.1992.pdf"},
      {t:"IS 2185 (Part 3):1984", d:"Concrete Masonry Units - Autoclaved Cellular (AAC) Blocks", desc:"Lightweight aerated blocks", l:"https://law.resource.org/pub/in/bis/S03/is.2185.3.1984.pdf"},
      {t:"IS 383:2016", d:"Coarse and Fine Aggregates for Concrete - Specification", desc:"Zone-wise sand grading", l:"https://law.resource.org/pub/in/bis/S03/is.383.2016.pdf"},
      {t:"IS 4989:2006", d:"Foamed Concrete Blocks - Specification", desc:"Cellular lightweight concrete", l:"https://law.resource.org/pub/in/bis/S03/is.4989.2006.pdf"},
      {t:"IS 2572:2005", d:"Code of Practice for Construction of Hollow Concrete Block Masonry", desc:"CLC & AAC block walls", l:"https://law.resource.org/pub/in/bis/S03/is.2572.2005.pdf"},
      {t:"IS 6041:1985", d:"Code of Practice for Construction of Autoclaved Cellular Concrete Block Masonry", desc:"AAC block construction", l:"https://law.resource.org/pub/in/bis/S03/is.6041.1985.pdf"},
      {t:"IS 6042:1969", d:"Specification for Lightweight Portland Cement", desc:"For AAC blocks", l:"https://law.resource.org/pub/in/bis/S03/is.6042.1969.pdf"}
    ],
    "Concrete Testing": [
      {t:"IS 516:1959", d:"Methods of Tests for Strength of Concrete", desc:"Cube & cylinder testing", l:"https://law.resource.org/pub/in/bis/S03/is.516.1959.pdf"},
      {t:"IS 1199:1959", d:"Methods of Sampling and Analysis of Concrete", desc:"Slump, compaction factor test", l:"https://law.resource.org/pub/in/bis/S03/is.1199.1959.pdf"}
    ],
    "Handbooks & Design Aids": [
      {t:"SP 16:1980", d:"Design Aids for Reinforced Concrete to IS 456", desc:"Ready-made tables for beams, slabs, columns", l:"https://law.resource.org/pub/in/bis/S03/is.sp.16.1980.pdf"},
      {t:"SP 34:1987", d:"Handbook on Concrete Reinforcement and Detailing", desc:"Bar bending schedules & detailing", l:"https://law.resource.org/pub/in/bis/S03/is.sp.34.1987.pdf"},
      {t:"SP 23:1982", d:"Handbook on Concrete Mixes", desc:"Mix design tables & examples", l:"https://law.resource.org/pub/in/bis/S03/is.sp.23.1982.pdf"},
      {t:"National Building Code 2016", d:"Comprehensive Building Guidelines (NBC)", desc:"Volume 1 & 2 - Architecture, Structure, Plumbing", l:"https://archive.org/details/nationalbuilding01"},
      {t:"SP 7:2016", d:"National Building Code of India (NBC 2016)", desc:"Complete building regulations", l:"https://archive.org/details/nbc2016vol1"}
    ],
    "Water Supply & Plumbing": [
      {t:"IS 3025 (Part 1):1987", d:"Methods of Sampling and Test for Water & Wastewater", desc:"Water quality testing", l:"https://law.resource.org/pub/in/bis/S03/is.3025.1.1987.pdf"},
      {t:"IS 10500:2012", d:"Drinking Water - Specification", desc:"Permissible limits for potable water", l:"https://law.resource.org/pub/in/bis/S03/is.10500.2012.pdf"},
      {t:"IS 1172:1993", d:"Code of Basic Requirements for Water Supply & Drainage", desc:"Per capita water demand", l:"https://law.resource.org/pub/in/bis/S03/is.1172.1993.pdf"},
      {t:"IS 12183 (Part 1):1987", d:"Code of Practice for Plumbing in Multi-Storeyed Buildings", desc:"Internal water supply & drainage", l:"https://archive.org/details/gov.in.is.12183.1.1987"}
    ],
    "Special & Miscellaneous": [
      {t:"IS 73:2013", d:"Paving Bitumen - Specification", desc:"VG-10, VG-30, VG-40 grades", l:"https://law.resource.org/pub/in/bis/S03/is.73.2013.pdf"},
      {t:"IS 1200 (Part 1):1992", d:"Method of Measurement - Earthwork", desc:"Excavation & filling quantities", l:"https://archive.org/details/gov.in.is.1200.1.1992"},
      {t:"IS 1200 (Part 2):1974", d:"Method of Measurement - Concrete Work", desc:"Formwork, reinforcement, concreting", l:"https://archive.org/details/gov.in.is.1200.2.1974"},
      {t:"IS 1200 (Part 5):1982", d:"Method of Measurement - Formwork", desc:"Shuttering measurement rules", l:"https://archive.org/details/gov.in.is.1200.5.1982"},
      {t:"IS 1641:2013", d:"Code of Practice for Fire Safety of Buildings", desc:"Fire resistance requirements", l:"https://law.resource.org/pub/in/bis/S03/is.1641.2013.pdf"},
      {t:"IS 12314:1988", d:"Code of Practice for Precast Concrete Construction", desc:"Factory-made beams, slabs, columns", l:"https://law.resource.org/pub/in/bis/S03/is.12314.1988.pdf"},
      {t:"IS 15916:2010", d:"Building Design and Construction Using Bamboo", desc:"Structural use of bamboo", l:"https://law.resource.org/pub/in/bis/S03/is.15916.2010.pdf"},
      {t:"IS 15917:2010", d:"Guidelines for Use of Bamboo in Building Construction", desc:"Joints, treatment & durability", l:"https://law.resource.org/pub/in/bis/S03/is.15917.2010.pdf"},
      {t:"IS 4990:2011", d:"Plywood for Concrete Shuttering Work - Specification", desc:"Film-faced shuttering plywood", l:"https://law.resource.org/pub/in/bis/S03/is.4990.2011.pdf"},
      {t:"IS 9103:1999", d:"Specification for Admixtures for Concrete", desc:"Superplasticizers & retarders", l:"https://law.resource.org/pub/in/bis/S03/is.9103.1999.pdf"},
      {t:"IS 14858:2000", d:"Requirements for Compression Testing Machine", desc:"CTM calibration", l:"https://law.resource.org/pub/in/bis/S03/is.14858.2000.pdf"},
      {t:"IS 9013:1978", d:"Method of Making and Curing Concrete Test Specimens", desc:"Cube & beam curing", l:"https://law.resource.org/pub/in/bis/S03/is.9013.1978.pdf"},
      {t:"IS 8142:1976", d:"Specification for Timber for Use in Construction", desc:"Sal, Teak, Deodar classification", l:"https://law.resource.org/pub/in/bis/S03/is.8142.1976.pdf"},
      {t:"IS 883:1994", d:"Code of Practice for Design of Structural Timber", desc:"Working stress method for timber", l:"https://law.resource.org/pub/in/bis/S03/is.883.1994.pdf"},
      {t:"IS 3812 (Part 1):2013", d:"Pulverized Fuel Ash (Fly Ash) for Concrete", desc:"Class F & Class C fly ash", l:"https://law.resource.org/pub/in/bis/S03/is.3812.1.2013.pdf"},
      {t:"IS 15388:2003", d:"Silica Fume - Specification", desc:"Microsilica for high-strength concrete", l:"https://law.resource.org/pub/in/bis/S03/is.15388.2003.pdf"},
      {t:"IS 2645:2003", d:"Integral Waterproofing Compounds for Cement Mortar", desc:"Liquid & powder compounds", l:"https://law.resource.org/pub/in/bis/S03/is.2645.2003.pdf"},
      {t:"IS 3085:1965", d:"Method of Test for Permeability of Cement Mortar", desc:"Waterproofing efficiency test", l:"https://law.resource.org/pub/in/bis/S03/is.3085.1965.pdf"},
      {t:"IS 14687:1999", d:"Guidelines for Falsework for Concrete Structures", desc:"Shuttering safety", l:"https://law.resource.org/pub/in/bis/S03/is.14687.1999.pdf"},
      {t:"IS 4995 (Part 1):1974", d:"Criteria for Design of Reinforced Concrete Bins", desc:"Silos & bunkers", l:"https://law.resource.org/pub/in/bis/S03/is.4995.1.1974.pdf"},
      {t:"IS 11089:1984", d:"Code of Practice for Design & Construction of Ring Foundation", desc:"Circular raft for chimneys", l:"https://archive.org/details/gov.in.is.11089.1984"},
      {t:"IS 9556:1980", d:"Code of Practice for Design & Construction of Conical Roof", desc:"Conical shells", l:"https://archive.org/details/gov.in.is.9556.1980"},
      {t:"IS 2204:1962", d:"Code of Practice for Construction of Reinforced Concrete Shell Roof", desc:"Cylindrical & hyperbolic paraboloid", l:"https://law.resource.org/pub/in/bis/S03/is.2204.1962.pdf"},
      {t:"IS 11504:1985", d:"Criteria for Structural Design of Reinforced Concrete Natural Draught Cooling Towers", desc:"Hyperbolic cooling towers", l:"https://law.resource.org/pub/in/bis/S03/is.11504.1985.pdf"},
      {t:"IS 4091:1979", d:"Code of Practice for Design & Construction of Foundations for Transmission Line Towers", desc:"Tower footing", l:"https://law.resource.org/pub/in/bis/S03/is.4091.1979.pdf"},
      {t:"IS 11233:1985", d:"Code of Practice for Design & Construction of Radar Antenna Foundations", desc:"Radar & microwave towers", l:"https://archive.org/details/gov.in.is.11233.1985"},
      {t:"IS 13094:1992", d:"Selection of Ground Improvement Techniques", desc:"Vibroflotation, stone columns", l:"https://law.resource.org/pub/in/bis/S03/is.13094.1992.pdf"},
      {t:"IS 15284 (Part 1):2003", d:"Design & Construction of Stone Columns", desc:"Vibro-replacement method", l:"https://law.resource.org/pub/in/bis/S03/is.15284.1.2003.pdf"},
      {t:"IS 9178 (Part 1):1979", d:"Criteria for Design of Steel Bins for Storage of Bulk Materials", desc:"Square & circular bins", l:"https://law.resource.org/pub/in/bis/S03/is.9178.1.1979.pdf"},
      {t:"IS 8041:1990", d:"Specification for Rapid Hardening Portland Cement", desc:"Type II cement", l:"https://law.resource.org/pub/in/bis/S03/is.8041.1990.pdf"},
      {t:"IS 12600:1989", d:"Low Heat Portland Cement - Specification", desc:"For mass concrete dams", l:"https://law.resource.org/pub/in/bis/S03/is.12600.1989.pdf"},
      {t:"IS 6452:1989", d:"High Alumina Cement for Structural Use", desc:"Calcium aluminate cement", l:"https://law.resource.org/pub/in/bis/S03/is.6452.1989.pdf"},
      {t:"IS 6909:1990", d:"Supersulphated Cement - Specification", desc:"Blast furnace slag cement", l:"https://law.resource.org/pub/in/bis/S03/is.6909.1990.pdf"},
      {t:"IS 455:2015", d:"Portland Slag Cement - Specification", desc:"PSC for marine structures", l:"https://law.resource.org/pub/in/bis/S03/is.455.2015.pdf"},
      {t:"IS 1489 (Part 2):2015", d:"Portland Pozzolana Cement - Calcined Clay Based", desc:"PPC with calcined clay", l:"https://law.resource.org/pub/in/bis/S03/is.1489.2.2015.pdf"},
      {t:"IS 16415:2015", d:"Composite Cement - Specification", desc:"Blended cement with fly ash + slag", l:"https://law.resource.org/pub/in/bis/S03/is.16415.2015.pdf"},
      {t:"IS 3466:1988", d:"Masonry Cement - Specification", desc:"For plastering & masonry", l:"https://law.resource.org/pub/in/bis/S03/is.3466.1988.pdf"},
      {t:"IS 4031 (All Parts)", d:"Methods of Physical Tests for Hydraulic Cement", desc:"Fineness, setting time, strength", l:"https://law.resource.org/pub/in/bis/S03/is.4031.1.1996.pdf"},
      {t:"IS 12269:2013", d:"Ordinary Portland Cement 53 Grade - Specification", desc:"High early strength", l:"https://law.resource.org/pub/in/bis/S03/is.12269.2013.pdf"},
      {t:"IS 8042:2015", d:"White Portland Cement - Specification", desc:"For architectural & tile grout", l:"https://law.resource.org/pub/in/bis/S03/is.8042.2015.pdf"}
    ]
  };

  const countries = {
    "India": codeCategories,
"Europe (Eurocodes)": {
    "Basis of Structural Design": [
      {t:"EN 1990:2002", d:"Eurocode - Basis of structural design", desc:"Fundamental principles, safety, serviceability", l:"https://www.phd.eng.br/wp-content/uploads/2015/12/en.1990.2002.pdf"}
    ],
    "Actions on Structures": [
      {t:"EN 1991-1-1:2002", d:"Eurocode 1 - Densities, self-weight, imposed loads", desc:"Dead & live loads for buildings", l:"https://www.phd.eng.br/wp-content/uploads/2015/12/en.1991.1.1.2002.pdf"},
      {t:"EN 1991-1-3:2003", d:"Eurocode 1 - Snow loads", desc:"Snow load maps & factors", l:"https://www.phd.eng.br/wp-content/uploads/2015/12/en.1991.1.3.2003.pdf"},
      {t:"EN 1991-1-4:2005", d:"Eurocode 1 - Wind actions", desc:"Wind speed maps & pressure coefficients", l:"https://www.phd.eng.br/wp-content/uploads/2015/12/en.1991.1.4.2005.pdf"}
    ],
    "Concrete Structures": [
      {t:"EN 1992-1-1:2004", d:"Eurocode 2 - Design of concrete structures - General rules", desc:"The main RCC code for Europe", l:"https://www.phd.eng.br/wp-content/uploads/2015/12/en.1992.1.1.2004.pdf"},
      {t:"EN 1992-1-2:2004", d:"Eurocode 2 - Structural fire design", desc:"Fire resistance of concrete structures", l:"https://www.phd.eng.br/wp-content/uploads/2015/12/en.1992.1.2.2004.pdf"}
    ],
    "Steel Structures": [
      {t:"EN 1993-1-1:2005", d:"Eurocode 3 - Design of steel structures - General rules", desc:"Main steel design code", l:"https://www.phd.eng.br/wp-content/uploads/2015/12/en.1993.1.1.2005.pdf"},
      {t:"EN 1993-1-8:2005", d:"Eurocode 3 - Design of joints", desc:"Bolted & welded connections", l:"https://www.phd.eng.br/wp-content/uploads/2015/12/en.1993.1.8.2005.pdf"}
    ],
    "Seismic Design": [
      {t:"EN 1998-1:2004", d:"Eurocode 8 - Design for earthquake resistance - General rules", desc:"Seismic actions & building design", l:"https://www.phd.eng.br/wp-content/uploads/2015/12/en.1998.1.2004.pdf"}
    ],
    "Geotechnical Design": [
      {t:"EN 1997-1:2004", d:"Eurocode 7 - Geotechnical design - General rules", desc:"Foundations, retaining walls, slopes", l:"https://www.phd.eng.br/wp-content/uploads/2015/12/en.1997.1.2004.pdf"}
    ]
  },
  "United States": {
    "Building Loads": [
      {t:"ASCE 7-22", d:"Minimum Design Loads and Associated Criteria for Buildings", desc:"Wind, seismic, snow, rain, flood loads", l:"https://sp360.asce.org/PersonifyEbusiness/Bookstore/Product-Details/productId/282597314"},
      {t:"ASCE 7-16 (Free older version)", d:"Minimum Design Loads (2016)", desc:"Still widely used", l:"https://ascelibrary.org/doi/book/10.1061/9780784414248"} // Note: full PDF behind paywall, but summaries available
    ],
    "Concrete Structures": [
      {t:"ACI 318-19", d:"Building Code Requirements for Structural Concrete", desc:"The Bible of US RCC design", l:"https://www.concrete.org/store/productdetail.aspx?ItemID=31819"},
      {t:"ACI 318-14 (Older free version)", d:"Building Code Requirements (2014)", desc:"Commonly referenced", l:"https://www.concrete.org/Portals/0/Files/PDF/318-14_errata.pdf"} // Errata, but main often shared
    ],
    "Steel Structures": [
      {t:"AISC 360-22", d:"Specification for Structural Steel Buildings", desc:"Latest LRFD/ASD steel code", l:"https://www.aisc.org/globalassets/aisc/publications/standards/a360-22-specification-and-commentary.pdf"},
      {t:"AISC 360-16 (Free)", d:"Specification for Structural Steel Buildings", desc:"Most widely used version", l:"https://www.aisc.org/globalassets/aisc/publications/standards/a360-16-specification-and-commentary.pdf"},
      {t:"AISC 341-22", d:"Seismic Provisions for Structural Steel Buildings", desc:"Ductile detailing for seismic", l:"https://www.aisc.org/globalassets/aisc/publications/standards/seismic-provisions-for-structural-steel-buildings-ansi-aisc-341-22.pdf"}
    ],
    "Masonry & Other": [
      {t:"TMS 402/602-22", d:"Building Code Requirements and Specification for Masonry Structures", desc:"US masonry design", l:"https://masonrysociety.org/product/tms-402-602-22-building-code-requirements-and-specification-for-masonry-structures/"}
    ]
  },
    "Japan": {
      "Building Standard Law": [
        {t:"Building Standard Law of Japan (English)", d:"Includes seismic provisions", desc:"Main Japanese building code", l:"https://iisee.kenken.go.jp/worldlist/31_Japan/31_Japan_1_Building_Code_2020.pdf"}
      ]
    }
  };

  function showCodalProvisions() {
    let html = `<div class="card"><h2>Select Country / Region</h2>
      <p style="margin-bottom:30px;font-size:17px;">Choose a country to view its structural design codes</p>
      <div class="mode-grid">`;

    Object.keys(countries).forEach(country => {
      const flag = country === "India" ? "üáÆüá≥" : 
                   country.includes("Europe") ? "üá™üá∫" : 
                   country.includes("United") ? "üá∫üá∏" : "üáØüáµ";
      html += `<div class="mode-card" onclick="showCountryCodes('${country}')">
        <h3 style="font-size:48px;margin-bottom:10px;">${flag}</h3>
        <h3>${country}</h3>
        <p>View categorized codes</p>
      </div>`;
    });

    html += `</div></div>`;
    document.getElementById('content').innerHTML = html;
  }

  function showCountryCodes(country) {
    const codeCats = countries[country];
    let html = `<div class="card"><h2>${country} Structural Codes</h2>
      <button class="btn-calc" onclick="showCodalProvisions()" style="width:auto;padding:12px 24px;margin-bottom:20px;">‚Üê Back to Countries</button>`;

    Object.keys(codeCats).forEach(category => {
      const codes = codeCats[category];
      html += `
        <div class="code-category">
          <h3 class="category-title" onclick="this.parentElement.classList.toggle('open')">${category} (${codes.length})</h3>
          <div class="code-grid category-grid">`;
      codes.forEach(c => {
        html += `<div class="code-card">
          <h3>${c.t}</h3>
          <p style="font-size:15px;color:#555;line-height:1.6;">${c.d}</p>
          <a href="${c.l}" target="_blank">Open PDF</a>
        </div>`;
      });
      html += `</div></div>`;
    });

    html += `</div>`;
    document.getElementById('content').innerHTML = html;
  }
</script>
     <script>
    // ==================== CORE FUNCTIONS ====================
    function login(guest = false) {
      const name = document.getElementById('user').value.trim() || (guest ? "Guest" : "Civil Engineer");
      document.getElementById('username').textContent = name;
      document.getElementById('login-screen').style.display = "none";
    }

    function toggleSub(id) {
      document.getElementById(id).classList.toggle('active');
    }
function showHome() {
  const username = document.getElementById('username').textContent;

  document.getElementById('content').innerHTML = `
    <div class="card" style="text-align:center;padding:70px 40px;background:#ffffff;border-radius:20px;box-shadow:0 20px 60px rgba(0,0,0,0.12);">
      <h2 style="font-size:38px;color:var(--d);margin-bottom:20px;font-weight:800;">
        Welcome, ${username}
      </h2>
      <p style="font-size:21px;color:#555;max-width:900px;margin:0 auto 60px;line-height:1.7;">
        CivilCode is your free, reliable companion for quick and accurate structural designs<br>
        as per Indian Standards ‚Äî built for students, juniors, and practicing engineers.
      </p>

      <div style="font-size:18px;color:#666;margin-bottom:60px;">
        <strong>9 Design Modules</strong> ‚Ä¢ <strong>100+ IS Codes with direct PDFs</strong> ‚Ä¢ <strong>Global Standards Included</strong>
      </div>

      <h3 style="font-size:26px;color:var(--d);margin-bottom:30px;font-weight:600;">
        Jump into your most-used tools
      </h3>

<div class="mode-grid" style="max-width:1200px;margin:0 auto;">
  <div class="mode-card" onclick="showOneWay()">
    <i class="fas fa-ruler-horizontal" style="font-size:55px;color:var(--p);margin-bottom:16px;"></i>
    <h3>One-Way Slab Design</h3>
    <p>Simply supported or continuous</p>
  </div>
  <div class="mode-card" onclick="showTwoWay()">
    <i class="fas fa-th" style="font-size:55px;color:var(--p);margin-bottom:16px;"></i>
    <h3>Two-Way Slab Design</h3>
    <p>With restrained corners</p>
  </div>
  <div class="mode-card" onclick="showBeam()">
    <i class="fas fa-vector-square" style="font-size:55px;color:var(--p);margin-bottom:16px;"></i>
    <h3>Beam Design</h3>
    <p>Singly or doubly reinforced</p>
  </div>
  <div class="mode-card" onclick="showColumn()">
    <i class="fas fa-columns" style="font-size:55px;color:var(--p);margin-bottom:16px;"></i>
    <h3>Column Design</h3>
    <p>Axial + uniaxial bending</p>
  </div>
  <div class="mode-card" onclick="showWaterTank()">
    <i class="fas fa-cube" style="font-size:55px;color:var(--p);margin-bottom:16px;"></i>
    <h3>Water Tank Design</h3>
    <p>Rectangular ‚Ä¢ UG/OH ‚Ä¢ IS 3370</p>
  </div>
  <div class="mode-card" onclick="showCodalProvisions()">
    <i class="fas fa-book-open" style="font-size:55px;color:var(--p);margin-bottom:16px;"></i>
    <h3>Codal Provisions</h3>
    <p>Indian + International codes</p>
  </div>
  <div class="mode-card" onclick="showMixDesign()">
    <i class="fas fa-flask" style="font-size:55px;color:var(--p);margin-bottom:16px;"></i>
    <h3>Concrete Mix Design</h3>
    <p>M20‚ÄìM60 ‚Ä¢ IS 10262:2019</p>
  </div>
</div>
      <div style="margin-top:70px;padding-top:40px;border-top:1px solid #eee;">
        <p style="font-size:16px;color:#777;max-width:800px;margin:0 auto;line-height:1.8;">
          All calculations follow limit state method as per relevant IS codes.<br>
          <strong>For educational and preliminary reference only.</strong> Always verify final designs with detailed manual calculations and a qualified structural engineer.
        </p>
        <p style="margin-top:30px;font-size:14px;color:#999;">
          Made with passion for civil engineering ‚Ä¢ Free forever ‚Ä¢ Version 1.0 ‚Ä¢ 2025
        </p>
      </div>
    </div>
  `;
}
    function showFun() {
      document.getElementById('content').innerHTML = `
        <div class="card"><h2>Fun & Mind-Blowing Civil Engineering Facts</h2>
          <ul style="font-size:19px;line-height:2.6;padding-left:30px;color:#333;">
            <li>India has the <b>world‚Äôs largest road network</b> ‚Äî over 63 lakh km!</li>
            <li>Chenab Bridge (J&K) is <b>taller than Eiffel Tower</b> by 35 meters ‚Äî 359m high!</li>
            <li>Statue of Unity is the <b>world‚Äôs tallest statue</b> at 182m ‚Äî twice the height of Statue of Liberty.</li>
            <li>Delhi Metro is the <b>first metro in the world</b> to get UN carbon credits.</li>
            <li>India built a 100+ km highway in <b>just 96 hours</b> ‚Äî world record!</li>
            <li>Konkan Railway has <b>92 tunnels & 2,000+ bridges</b> in just 760 km.</li>
            <li>Burj Khalifa used Indian cement (UltraTech) for its foundation.</li>
            <li>India‚Äôs Bandra-Worli Sea Link saved <b>100 crore litres of fuel</b> in 10 years.</li>
            <li>The Howrah Bridge (Kolkata) uses <b>zero nuts & bolts</b> ‚Äî entirely riveted!</li>
            <li>Mumbai‚Äôs Coastal Road tunnel goes <b>under the sea</b> ‚Äî first in India.</li>
            <li>India has more than <b>1 lakh practicing structural engineers</b> ‚Äî highest in the world!</li>
            <li>Atal Tunnel (Rohtang) is the <b>world‚Äôs longest highway tunnel above 10,000 ft</b>.</li>
          </ul>
        </div>`;
    }

    function showDisclaimer() {
      document.getElementById('content').innerHTML = document.getElementById('disclaimer-template').innerHTML;
    }

    // ==================== ONE-WAY SLAB ====================
    function showOneWay() {
      document.getElementById('content').innerHTML = document.getElementById('oneway-template').innerHTML;
      oneWayDesign();
    }
    function showMixDesign() {
  document.getElementById('content').innerHTML = document.getElementById('mixdesign-template').innerHTML;
  mixDesignPro();
}

function mixDesignPro() {
  document.getElementById('mix-section').innerHTML = `
    <h3 style="text-align:center;margin-bottom:20px;color:var(--p);">Concrete Mix Design (IS 10262:2019)</h3>
    <label>Target Strength (MPa)</label>
    <select id="grade">
      <option value="20">M20</option>
      <option value="25" selected>M25</option>
      <option value="30">M30</option>
      <option value="35">M35</option>
      <option value="40">M40</option>
      <option value="45">M45</option>
      <option value="50">M50</option>
      <option value="55">M55</option>
      <option value="60">M60</option>
    </select>

    <label>Exposure Condition</label>
    <select id="exposure">
      <option value="Mild">Mild</option>
      <option value="Moderate" selected>Moderate</option>
      <option value="Severe">Severe</option>
      <option value="Very Severe">Very Severe</option>
      <option value="Extreme">Extreme</option>
    </select>

    <label>Max Aggregate Size (mm)</label>
    <select id="agg">
      <option value="10">10 mm</option>
      <option value="20" selected>20 mm</option>
      <option value="40">40 mm</option>
    </select>

    <label>Type of Aggregate</label>
    <select id="aggtype">
      <option value="angular" selected>Angular</option>
      <option value="subangular">Sub-angular</option>
      <option value="gravel">Gravel (rounded)</option>
    </select>

    <label>Workability (Slump mm)</label>
    <input type="number" id="slump" value="100" min="25" max="200">

    <label>Use Admixture?</label>
    <select id="admix">
      <option value="no" selected>No</option>
      <option value="yes">Yes (Superplasticizer)</option>
    </select>

    <button class="btn-calc" onclick="calculateMix()">Design Mix</button>
  `;
}

function calculateMix() {
  const grade = parseFloat(document.getElementById('grade').value);
  const exposure = document.getElementById('exposure').value;
  const agg = parseFloat(document.getElementById('agg').value);
  const aggtype = document.getElementById('aggtype').value;
  const slump = parseFloat(document.getElementById('slump').value);
  const admix = document.getElementById('admix').value === "yes";

  // Target mean strength (fck + 1.65 * s)
  const s = grade <= 20 ? 4 : 5; // standard deviation
  const ftarget = grade + 1.65 * s;

  // Water content (approx from table)
  let w = 190; // base for 20mm
  if (agg === 10) w += 15;
  if (agg === 40) w -= 15;
  if (slump > 100) w += 3 * (slump - 100) / 25;

  // Cement content (min from exposure)
  const minCement = {
    Mild: 300,
    Moderate: 320,
    Severe: 340,
    "Very Severe": 360,
    Extreme: 380
  }[exposure];

  // w/c ratio from table (approx)
  let wc = 0.5;
  if (grade >= 30) wc = 0.45;
  if (grade >= 40) wc = 0.40;
  if (grade >= 50) wc = 0.35;

  // Adjust for admixture
  if (admix) w *= 0.8; // 20% reduction typical

  let cement = Math.max(minCement, w / wc);
  cement = Math.ceil(cement / 5) * 5;

  // Volume calculation
  const vol = 1; // 1 m¬≥
  const air = agg === 20 ? 0.02 : (agg === 10 ? 0.03 : 0.015);
  const volCement = cement / (3.15 * 1000);
  const volWater = w / 1000;
  const volAgg = vol - volCement - volWater - air;

  // FA:CA ratio approx
  let faRatio = 0.45;
  if (aggtype === "gravel") faRatio = 0.5;
  const fa = volAgg * faRatio * 1.45 * 1000; // assume SG 2.6 ‚Üí adjust to 1.45 for fine
  const ca = volAgg * (1 - faRatio) * 2.7 * 1000; // SG 2.7

  document.getElementById('mix-result').innerHTML = `
    <div class="result">
      <h3 style="text-align:center;color:#27ae60;">CONCRETE MIX DESIGN - M${grade}</h3>
      <strong>Target Mean Strength:</strong> ${ftarget.toFixed(1)} MPa<br>
      <strong>Water-Cement Ratio:</strong> ${(w/cement).toFixed(2)}<br>
      <strong>Cement Content:</strong> <big style="font-size:28px;color:var(--p);">${cement} kg/m¬≥</big><br>
      <strong>Water:</strong> ${Math.round(w)} kg/m¬≥<br>
      <strong>Fine Aggregate:</strong> ${Math.round(fa)} kg/m¬≥<br>
      <strong>Coarse Aggregate:</strong> ${Math.round(ca)} kg/m¬≥<br>
      <strong>Admixture:</strong> ${admix ? "Yes (reduced water)" : "Not used"}<br><br>
      <em>Proportions by weight: 1 : ${(fa/cement).toFixed(2)} : ${(ca/cement).toFixed(2)} (C:FA:CA)</em>
    </div>
  `;
}

    function oneWayDesign() {
      document.getElementById('oneway-section').innerHTML = `
        <h3 style="text-align:center;margin-bottom:20px;color:var(--p);">One-Way Slab Design (IS 456:2000)</h3>
        <label>Span Lx (m)</label><input type="number" id="Lx" value="4.0" step="0.1">
        <label>Live Load (kN/m¬≤)</label><input type="number" id="LL" value="3.0">
        <label>Floor Finish (kN/m¬≤)</label><input type="number" id="FF" value="1.0">
        <label>Concrete Grade</label><select id="fck"><option value="20">M20</option><option value="25" selected>M25</option><option value="30">M30</option></select>
        <label>Steel Grade</label><select id="fy"><option value="415">Fe415</option><option value="500" selected>Fe500</option></select>
        <label>Support</label><select id="support"><option value="simple">Simply Supported</option><option value="continuous" selected>Continuous</option></select>
        <button class="btn-calc" onclick="calculateOneWay()">Design Slab</button>
      `;
    }

    function calculateOneWay() {
      const Lx = parseFloat(document.getElementById('Lx').value);
      const LL = parseFloat(document.getElementById('LL').value);
      const FF = parseFloat(document.getElementById('FF').value);
      const fck = parseFloat(document.getElementById('fck').value);
      const fy = parseFloat(document.getElementById('fy').value);
      const cont = document.getElementById('support').value === "continuous";

      let D = Lx * 1000 / (cont ? 26 : 20);
      let d = D - 30;
      let DL = D/1000 * 25;
      let w = 1.5 * (DL + LL + FF);
      let M = cont ? w * Lx*Lx / 12 : w * Lx*Lx / 8;

      d = Math.sqrt(M * 1e6 / (0.138 * fck * 1000));
      D = Math.ceil(d + 30);
      d = D - 30;
      DL = D/1000 * 25;
      w = 1.5 * (DL + LL + FF);
      M = cont ? w * Lx*Lx / 12 : w * Lx*Lx / 8;

      const Ast = M * 1e6 / (0.87 * fy * d * 0.95);
      const spacing = Math.min(300, Math.round(1000 * 78.5 / Ast / 5) * 5);

      document.getElementById('oneway-result').innerHTML = `
        <div class="result">
          <h3 style="text-align:center;color:#27ae60;">ONE-WAY SLAB DESIGN</h3>
          <strong>Total Depth:</strong> <big style="font-size:32px;color:var(--p);">${D} mm</big><br>
          <strong>Main Steel:</strong> œÜ10 @ ${spacing} mm c/c<br>
          <strong>Distribution Steel:</strong> œÜ8 @ 200 mm c/c
        </div>
      `;
    }

    // ==================== TWO-WAY SLAB ====================
    function showTwoWay() {
      document.getElementById('content').innerHTML = document.getElementById('twoway-template').innerHTML;
      twoWayDesign();
    }

    function twoWayDesign() {
      document.getElementById('twoway-section').innerHTML = `
        <h3 style="text-align:center;margin-bottom:20px;color:var(--p);">Two-Way Slab Design (IS 456:2000)</h3>
        <label>Short Span Lx (m)</label><input type="number" id="Lx2" value="4.0" step="0.1">
        <label>Long Span Ly (m)</label><input type="number" id="Ly2" value="5.5" step="0.1">
        <label>Live Load (kN/m¬≤)</label><input type="number" id="LL2" value="4.0">
        <label>Floor Finish (kN/m¬≤)</label><input type="number" id="FF2" value="1.0">
        <label>Concrete Grade</label><select id="fck2"><option value="20">M20</option><option value="25" selected>M25</option></select>
        <label>Steel Grade</label><select id="fy2"><option value="415">Fe415</option><option value="500" selected>Fe500</option></select>
        <button class="btn-calc" onclick="calculateTwoWay()">Design Slab</button>
      `;
    }

    function calculateTwoWay() {
      const Lx = parseFloat(document.getElementById('Lx2').value);
      const Ly = parseFloat(document.getElementById('Ly2').value);
      const LL = parseFloat(document.getElementById('LL2').value);
      const FF = parseFloat(document.getElementById('FF2').value);
      const fck = parseFloat(document.getElementById('fck2').value);
      const fy = parseFloat(document.getElementById('fy2').value);
      const ratio = Ly / Lx;

      let D = Lx * 1000 / 35;
      let d = D - 30;
      let DL = D/1000 * 25;
      let w = 1.5 * (DL + LL + FF);

      const coeff = {
        1.0:{sx:0.125,sy:0.125},1.1:{sx:0.103,sy:0.084},1.2:{sx:0.090,sy:0.068},
        1.3:{sx:0.080,sy:0.057},1.4:{sx:0.072,sy:0.050},1.5:{sx:0.066,sy:0.044},
        1.75:{sx:0.056,sy:0.033},2.0:{sx:0.048,sy:0.026}
      };
      const key = Object.keys(coeff).reduce((a,b)=>Math.abs(b-ratio)<Math.abs(a-ratio)?b:a);
      const {sx,sy} = coeff[key];

      const Mx = sx * w * Lx * Lx * 1e6;
      const My = sy * w * Lx * Lx * 1e6;

      d = Math.max(Math.sqrt(Mx / (0.138 * fck * 1000)), Math.sqrt(My / (0.138 * fck * 1000)));
      D = Math.ceil(d + 30);
      d = D - 30;

      const Astx = Mx / (0.87 * fy * d * 0.95);
      const Asty = My / (0.87 * fy * d * 0.95);

      const spacex = Math.min(300, Math.round(1000 * 78.5 / Astx / 5) * 5);
      const spacey = Math.min(300, Math.round(1000 * 78.5 / Asty / 5) * 5);

      document.getElementById('twoway-result').innerHTML = `
        <div class="result">
          <h3 style="text-align:center;color:#27ae60;">TWO-WAY SLAB DESIGN</h3>
          <strong>Ly/Lx = ${ratio.toFixed(2)}</strong><br>
          <strong>Total Depth:</strong> <big style="font-size:32px;color:var(--p);">${D} mm</big><br>
          <strong>Short Span Steel:</strong> œÜ10 @ ${spacex} mm<br>
          <strong>Long Span Steel:</strong> œÜ10 @ ${spacey} mm<br>
          <strong>Torsion Steel at Corners:</strong> 0.75 √ó max(Ast) both layers
        </div>
      `;
    }

    // ==================== BEAM DESIGN ====================
    function showBeam() {
      document.getElementById('content').innerHTML = document.getElementById('beam-template').innerHTML;
      beamDesign();
    }

    function beamDesign() {
      document.getElementById('beam-section').innerHTML = `
        <h3 style="text-align:center;margin-bottom:20px;color:var(--p);">RCC Beam Design (IS 456:2000)</h3>
        <label>Span (m)</label><input type="number" id="span" value="5.0" step="0.1">
        <label>Width b (mm)</label><input type="number" id="b" value="300">
        <label>Live Load (kN/m)</label><input type="number" id="LLb" value="20">
        <label>Dead Load excl. self wt (kN/m)</label><input type="number" id="DLb" value="15">
        <label>Concrete Grade</label><select id="fckb"><option value="20">M20</option><option value="25" selected>M25</option></select>
        <label>Steel Grade</label><select id="fyb"><option value="415">Fe415</option><option value="500" selected>Fe500</option></select>
        <button class="btn-calc" onclick="calculateBeam()">Design Beam</button>
      `;
    }

    function calculateBeam() {
      const L = parseFloat(document.getElementById('span').value);
      const b = parseFloat(document.getElementById('b').value);
      const LL = parseFloat(document.getElementById('LLb').value);
      const DL = parseFloat(document.getElementById('DLb').value);
      const fck = parseFloat(document.getElementById('fckb').value);
      const fy = parseFloat(document.getElementById('fyb').value);

      let D = 500;
      let d = D - 50;
      let selfwt = b * D / 1e6 * 25;
      let w = 1.5 * (DL + LL + selfwt);
      let M = w * L * L / 8;

      d = Math.sqrt(M * 1e6 / (0.138 * fck * b));
      D = Math.ceil(d + 50);
      d = D - 50;

      selfwt = b * D / 1e6 * 25;
      w = 1.5 * (DL + LL + selfwt);
      M = w * L * L / 8;

      const MuLim = 0.138 * fck * b * d * d / 1e6;
      const Ast = M * 1e6 / (0.87 * fy * 0.9 * d);
      const isDoubly = M > MuLim * 1e6;

      let result = `
        <div class="result">
          <h3 style="text-align:center;color:#27ae60;">BEAM DESIGN RESULT</h3>
          <strong>Depth D = ${D} mm</strong><br>
          <strong>Factored Moment Mu = ${M.toFixed(1)} kNm</strong><br>
      `;

      if (!isDoubly) {
        const spacing = Math.min(300, Math.round(1000 * 78.5 / Ast / 5) * 5);
        result += `<strong>Main Tension Steel:</strong> œÜ10 @ ${spacing} mm c/c<br>`;
      } else {
        const Ast1 = (0.138 * fck * b * d) / (0.87 * fy);
        const Ast2 = (M * 1e6 - MuLim * 1e6) / (0.87 * fy * (d - 50));
        result += `<strong>SINGLY REINFORCED LIMIT EXCEEDED</strong><br>
                   Provide Doubly Reinforced Beam<br>
                   Tension Steel ‚âà ${(Ast1 + Ast2).toFixed(0)} mm¬≤<br>
                   Compression Steel ‚âà ${Ast2.toFixed(0)} mm¬≤`;
      }

      result += `</div>`;
      document.getElementById('beam-result').innerHTML = result;
    }
   // ==================== COLUMN DESIGN ====================
    function showColumn() {
      document.getElementById('content').innerHTML = document.getElementById('column-template').innerHTML;
      columnDesign();
    }

    function columnDesign() {
      document.getElementById('column-section').innerHTML = `
        <h3 style="text-align:center;margin-bottom:20px;color:var(--p);">RCC Column Design (Axial + Uniaxial) ‚Äì IS 456:2000</h3>
        <label>Axial Load Pu (kN)</label><input type="number" id="Pu" value="1200">
        <label>Moment Mu (kNm)</label><input type="number" id="Mu" value="150">
        <label>Unsupported Length (m)</label><input type="number" id="Lcol" value="3.0" step="0.1">
        <label>Concrete Grade</label><select id="fckc"><option value="20">M20</option><option value="25" selected>M25</option><option value="30">M30</option></select>
        <label>Steel Grade</label><select id="fyc"><option value="415">Fe415</option><option value="500" selected>Fe500</option></select>
        <button class="btn-calc" onclick="calculateColumn()">Design Column</button>
      `;
    }

    function calculateColumn() {
      const Pu = parseFloat(document.getElementById('Pu').value) * 1000;
      const Mu = parseFloat(document.getElementById('Mu').value) * 1e6;
      const L = parseFloat(document.getElementById('Lcol').value) * 1000;
      const fck = parseFloat(document.getElementById('fckc').value);
      const fy = parseFloat(document.getElementById('fyc').value);

      let side = Math.max(300, Math.ceil(Math.sqrt(Pu / (0.4 * fck)) / 50) * 50);
      if (side > 600) side = 600;

      const Ag = side * side;
      const p = Math.max(0.8, (Pu / (fck * Ag)) * 100);
      const Asc = (p / 100) * Ag;

      document.getElementById('column-result').innerHTML = `
        <div class="result">
          <h3 style="text-align:center;color:#27ae60;">COLUMN DESIGN RESULT</h3>
          <strong>Recommended Size:</strong> <big style="font-size:32px;color:var(--p);">${side} √ó ${side} mm</big><br>
          <strong>Gross Area = ${Ag.toLocaleString()} mm¬≤</strong><br>
          <strong>Required Steel ‚âà ${Asc.toFixed(0)} mm¬≤</strong><br>
          <strong>Provide 8‚Äì12 nos œÜ20‚Äì25 mm bars + ties œÜ8 @ 200 mm c/c</strong>
        </div>
      `;
    }

    // ==================== WATER TANK (IS 3370:2009) ====================
    function showWaterTank() {
      document.getElementById('content').innerHTML = document.getElementById('watertank-template').innerHTML;
      waterTankDesign();
    }

    function waterTankDesign() {
      document.getElementById('watertank-section').innerHTML = `
        <h3 style="text-align:center;margin-bottom:20px;color:var(--p);">Rectangular Water Tank (IS 3370:2009)</h3>
        <label>Internal Length L (m)</label><input type="number" id="Ltank" value="4.0" step="0.1">
        <label>Internal Width B (m)</label><input type="number" id="Btank" value="3.0" step="0.1">
        <label>Water Depth H (m)</label><input type="number" id="Htank" value="3.5" step="0.1">
        <label>Freeboard (m)</label><input type="number" id="fb" value="0.3">
        <button class="btn-calc" onclick="calculateWaterTank()">Design Tank</button>
      `;
    }

    function calculateWaterTank() {
      const L = parseFloat(document.getElementById('Ltank').value);
      const B = parseFloat(document.getElementById('Btank').value);
      const H = parseFloat(document.getElementById('Htank').value);

      const pressure = 10 * H;
      const longMoment = pressure * L * L / 12;
      const shortMoment = pressure * B * B / 12;
      const maxMoment = Math.max(longMoment, shortMoment) * 1e6;

      const d = Math.ceil(Math.sqrt(maxMoment / (0.138 * 25 * 1000)));
      const D = d + 50;

      document.getElementById('watertank-result').innerHTML = `
        <div class="result">
          <h3 style="text-align:center;color:#27ae60;">WATER TANK DESIGN</h3>
          <strong>Max Hydrostatic Pressure = ${pressure} kN/m¬≤</strong><br>
          <strong>Long Wall Moment = ${longMoment.toFixed(2)} kNm/m</strong><br>
          <strong>Short Wall Moment = ${shortMoment.toFixed(2)} kNm/m</strong><br>
          <strong>Wall Thickness = ${D} mm (effective depth ${d} mm)</strong><br>
          <strong>Base Slab = 300‚Äì350 mm</strong><br>
          <strong>Main Steel (both faces): œÜ12 @ 140‚Äì160 mm c/c</strong>
        </div>
      `;
    }

    // ==================== DOG-LEGGED STAIRCASE ====================
    function showStaircase() {
      document.getElementById('content').innerHTML = document.getElementById('staircase-template').innerHTML;
      staircaseDesign();
    }

    function staircaseDesign() {
      document.getElementById('staircase-section').innerHTML = `
        <h3 style="text-align:center;margin-bottom:20px;color:var(--p);">Dog-Legged Staircase Design (IS 456:2000)</h3>
        <label>Floor to Floor Height (m)</label><input type="number" id="height" value="3.3" step="0.1">
        <label>No. of Risers per Flight</label><input type="number" id="risers" value="11">
        <label>Tread T (mm)</label><input type="number" id="tread" value="300">
        <label>Width of Stair (m)</label><input type="number" id="width" value="1.5">
        <label>Live Load (kN/m¬≤)</label><input type="number" id="LLs" value="4.0">
        <button class="btn-calc" onclick="calculateStaircase()">Design Staircase</button>
      `;
    }

    function calculateStaircase() {
      const H = parseFloat(document.getElementById('height').value);
      const n = parseFloat(document.getElementById('risers').value);
      const T = parseFloat(document.getElementById('tread').value) / 1000;
      const W = parseFloat(document.getElementById('width').value);
      const LL = parseFloat(document.getElementById('LLs').value);

      const R = H * 1000 / n;
      const going = T;
      const waist = Math.ceil(Math.sqrt(R*R + going*going*1000000) / 30) * 10;
      const span = (n-1)*T/1000 + W + waist/1000;
      const load = 25 * (waist/1000) * Math.sqrt(1 + (R/(going*1000))**2) + LL;
      const w = 1.5 * load;
      const M = w * span * span / 8;

      const d = Math.sqrt(M * 1e6 / (0.138 * 25 * 1000));
      const D = Math.ceil(d + 25);

      document.getElementById('staircase-result').innerHTML = `
        <div class="result">
          <h3 style="text-align:center;color:#27ae60;">STAIRCASE DESIGN</h3>
          <strong>Riser ‚âà ${R.toFixed(0)} mm | Tread = ${T*1000} mm</strong><br>
          <strong>Waist Slab Thickness = ${D} mm</strong><br>
          <strong>Main Steel: œÜ12 @ 150‚Äì180 mm c/c</strong><br>
          <strong>Distribution Steel: œÜ8 @ 200 mm c/c</strong>
        </div>
      `;
    }

    // ==================== CRACK WIDTH ====================
    function showCrack() {
      document.getElementById('content').innerHTML = document.getElementById('crack-template').innerHTML;
      crackPro();
    }

    function crackPro() {
      document.getElementById('crack-section').innerHTML = `
        <h3 style="text-align:center;margin-bottom:20px;color:var var(--p);">Crack Width Calculator (IS 456:2000)</h3>
        <label>Steel Grade</label><select id="fy_crack"><option>415</option><option selected>500</option></select>
        <label>Service Stress fs (MPa)</label><input type="number" id="fs" value="240">
        <label>Bar Diameter œÜ (mm)</label><input type="number" id="dia" value="16">
        <label>Clear Cover (mm)</label><input type="number" id="cover" value="30">
        <label>Depth h (mm)</label><input type="number" id="h" value="500">
        <label>Neutral Axis xu (mm)</label><input type="number" id="xu" value="120">
        <button class="btn-calc" onclick="calculateCrackPro()">Calculate</button>
      `;
    }

    function calculateCrackPro() {
      const fy = parseFloat(document.getElementById('fy_crack').value);
      const fs = parseFloat(document.getElementById('fs').value);
      const dia = parseFloat(document.getElementById('dia').value);
      const cover = parseFloat(document.getElementById('cover').value);
      const h = parseFloat(document.getElementById('h').value);
      const xu = parseFloat(document.getElementById('xu').value);

      const table = {415:{240:180,280:160,320:140},500:{240:160,280:140,320:120}};
      let maxSpacing = table[fy][240];
      Object.keys(table[fy]).forEach(stress => {
        if (fs <= stress) maxSpacing = table[fy][stress];
      });

      const acr = cover + dia/2;
      const eps_m = fs / 200000;
      const w_cr = 3 * acr * eps_m / (1 + 2*(acr-cover)/(h-xu));
      const ok = w_cr <= 0.3; // IS 456 allows 0.3 mm for normal exposure

      document.getElementById('crack-result').innerHTML = `
        <div class="result ${ok?'':'fail'}">
          <h3 style="text-align:center;color:${ok?'#27ae60':'#c0392b'}">${ok?'SAFE':'REVISE'}</h3>
          <strong>Crack Width = ${w_cr.toFixed(3)} mm</strong><br>
          <strong>Limit = 0.3 mm</strong>
        </div>
      `;
    }

    // ==================== DEVELOPMENT LENGTH ====================
    function showDevLength() {
      document.getElementById('content').innerHTML = document.getElementById('devlength-template').innerHTML;
      devLengthPro();
    }

    function devLengthPro() {
      document.getElementById('dev-section').innerHTML = `
        <h3 style="text-align:center;margin-bottom:20px;color:var(--p);">Development Length Ld (IS 456 Cl. 26.2.1)</h3>
        <label>Bar Diameter œÜ (mm)</label><input type="number" id="dia_ld" value="20">
        <label>Steel Grade</label><select id="fy_ld"><option value="415">Fe415</option><option value="500" selected>Fe500</option></select>
        <label>Concrete Grade</label><select id="fck_ld"><option value="20">M20</option><option value="25" selected>M25</option></select>
        <label>Stress Type</label><select id="stress_ld"><option value="tension" selected>Tension</option><option value="compression">Compression</option></select>
        <label>Anchorage</label><select id="anchorage_ld"><option value="straight">Straight</option><option value="hook90">90¬∞ Hook</option></select>
        <div class="checkbox-grid">
          <div class="checkbox-item"><input type="checkbox" id="topbar"><label for="topbar">Top bar (>300mm)</label></div>
          <div class="checkbox-item"><input type="checkbox" id="bundled"><label for="bundled">Bundled bars</label></div>
        </div>
        <button class="btn-calc" onclick="calculateDevLength()">Calculate Ld</button>
      `;
    }
    function calculateDevLength() {
      const dia = parseFloat(document.getElementById('dia_ld').value);
      const fy = parseFloat(document.getElementById('fy_ld').value);
      const fck = parseFloat(document.getElementById('fck_ld').value);
      const tension = document.getElementById('stress_ld').value === "tension";
      const hook = document.getElementById('anchorage_ld').value === "hook90" ? 8 : 0;

      const tau = tension ? (fck <= 25 ? 1.2 : 1.4) : 1.25 * 1.4;
      let Ld = (0.87 * fy * dia) / (4 * tau);
      if (document.getElementById('topbar').checked) Ld *= 1.2;
      if (document.getElementById('bundled').checked) Ld *= 1.15;

      const final = Math.round(Ld - hook * dia);

      document.getElementById('dev-result').innerHTML = `
        <div class="result">
          <h3 style="text-align:center;color:#27ae60;">DEVELOPMENT LENGTH</h3>
          <strong>Required Ld = ${Math.ceil(Ld)} mm</strong><br>
          <strong>After 90¬∞ Hook = ${final} mm</strong>
        </div>
      `;
    }

    // ==================== FULLY WORKING HAMBURGER MENU ====================
    function showCodalProvisions() {
  let html = `<div class="card"><h2>Select Country / Region</h2>
    <p style="margin-bottom:30px;font-size:17px;">Choose a country to view its structural design codes</p>
    <div class="mode-grid">`;

  Object.keys(countries).forEach(country => {
    const flag = country === "India" ? "üáÆüá≥" : 
                 country.includes("Europe") ? "üá™üá∫" : 
                 country.includes("United") ? "üá∫üá∏" : "üáØüáµ";
    html += `<div class="mode-card" onclick="showCountryCodes('${country}')">
      <h3 style="font-size:48px;margin-bottom:10px;">${flag}</h3>
      <h3>${country}</h3>
      <p>View categorized codes</p>
    </div>`;
  });

  html += `</div></div>`;
  document.getElementById('content').innerHTML = html;
}

function showCountryCodes(country) {
  const codeCats = countries[country];
  let html = `<div class="card"><h2>${country} Structural Codes</h2>
    <button class="btn-calc" onclick="showCodalProvisions()" style="width:auto;padding:12px 24px;margin-bottom:20px;">‚Üê Back to Countries</button>`;

  Object.keys(codeCats).forEach(category => {
    const codes = codeCats[category];
    html += `
      <div class="code-category">
        <h3 class="category-title" onclick="this.parentElement.classList.toggle('open')">${category} (${codes.length})</h3>
        <div class="code-grid category-grid">`;
    codes.forEach(c => {
      html += `<div class="code-card">
        <h3>${c.t}</h3>
        <p style="font-size:15px;color:#555;line-height:1.6;">${c.d}</p>
        <a href="${c.l}" target="_blank">Open PDF</a>
      </div>`;
    });
    html += `</div></div>`;
  });

  html += `</div>`;
  document.getElementById('content').innerHTML = html;
}
    document.getElementById("menu-toggle").addEventListener("click", function(e) {
      e.stopPropagation();
      const sidebar = document.getElementById("sidebar");
      sidebar.classList.toggle("active");
      sidebar.classList.toggle("closed");
    });

    // Close sidebar when clicking outside (mobile only)
    document.addEventListener("click", function(e) {
      const sidebar = document.getElementById("sidebar");
      const toggle = document.getElementById("menu-toggle");
      if (window.innerWidth <= 992 && 
          sidebar.classList.contains("active") &&
          !sidebar.contains(e.target) && 
          !toggle.contains(e.target)) {
        sidebar.classList.remove("active");
        sidebar.classList.add("closed");
      }
    });

    // Prevent menu from closing when clicking inside sidebar
    document.getElementById("sidebar").addEventListener("click", function(e) {
      e.stopPropagation();
    });

    // Start with clean state
    window.addEventListener("load", () => {
      // Sidebar closed by default on mobile
      if (window.innerWidth <= 992) {
        document.getElementById("sidebar").classList.add("closed");
      }
      showHome();
    });
  </script>
</body>
</html>
